# Novel Engine 파이프라인 가이드

*소설 쓰기를 처음 시작하는 분들을 위한 안내서*

---

## 빠른 시작

이야기 아이디어만 있으면 바로 시작할 수 있습니다:

```
/novel:start
```

그리고 이렇게 설명하세요:

```
제주에서 사는 중학교 학생이 버스 대신 걷기 시작해서
1년 만에 마라톤 풀코스를 완주하는 이야기.
일기체로, 매주 2번, 대화 많이, 자연과 감정 자세히.
```

시스템이 자동으로:
1. 프로젝트 생성
2. 캐논(설정) 파일 작성
3. 스토리 구조 생성
4. 첫 씬 작성 준비

까지 해줍니다. 아래는 각 단계를 이해하고 싶은 분들을 위한 상세 설명입니다.

---

## 소설 쓰기, 왜 어려울까?

### 흔히 겪는 문제들

**1. 설정 충돌**
> 3장에서 주인공 눈이 갈색이었는데, 15장에서 갑자기 파란 눈으로 묘사했다.

**2. 시간선 혼란**
> 화요일에 일어난 사건을 목요일이라고 썼다. 독자가 댓글로 지적했다.

**3. 캐릭터 지식 오류**
> A가 B에게 비밀을 말하기 전인데, B가 이미 그 비밀을 알고 행동한다.

**4. 복선 회수 실패**
> 5장에서 심어둔 복선을 까먹고 끝까지 회수하지 못했다.

**5. 긴 글의 일관성 유지**
> 10만 자가 넘어가니 앞에 뭘 썼는지 기억이 안 난다.

이런 문제들은 **실력 부족이 아니라 시스템 부재** 때문에 생깁니다.

---

## 파이프라인이란?

### 비유: 자동차 공장

자동차는 이렇게 만들어집니다:

```
설계 → 부품 제작 → 조립 → 품질 검사 → 출고
```

각 단계마다 **전문가가 확인**하고, **문제가 있으면 다음 단계로 넘어가지 않습니다.**

Novel Engine도 같은 원리입니다:

```
설정 정리 → 구조 설계 → 집필 → 품질 검사 → 퇴고 → 출판
```

### 핵심 아이디어

1. **한 번에 한 가지만** — 설정 잡을 때는 설정만, 쓸 때는 쓰기만
2. **기록이 남는다** — 모든 결정이 파일로 저장됨
3. **검사가 자동** — AI가 일관성을 체크해줌
4. **되돌릴 수 있다** — 잘못 쓴 부분만 롤백 가능

---

## 6단계 파이프라인

### 전체 흐름

```
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│   /novel:init    프로젝트 생성, 캐논(설정) 파일 준비        │
│        ↓                                                    │
│   (캐논 작성)     premise.md, characters.md 등 직접 작성    │
│        ↓                                                    │
│   /novel:outline  전체 구조 생성 (장/씬 구성)               │
│        ↓                                                    │
│   /novel:write    씬 단위로 집필                            │
│        ↓                                                    │
│   /novel:check    5개 에이전트가 품질 검사                  │
│        ↓                                                    │
│   /novel:publish  EPUB 파일로 출판                          │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 1단계: 프로젝트 시작 (`/novel:init`)

### 무엇을 하나요?

소설 프로젝트의 **뼈대**를 만듭니다.

### 만들어지는 폴더 구조

```
my-novel/
├── canon/           ← 설정 파일 (진실의 원천)
│   ├── premise.md       기획서
│   ├── characters.md    캐릭터 설정
│   ├── world.md         세계관
│   ├── timeline.md      시간선
│   ├── style_guide.md   문체 가이드
│   └── constraints.md   제약 조건
├── state/           ← 진행 상황 (자동 관리)
├── beats/           ← 플롯 구조 (자동 생성)
└── draft/           ← 원고
    ├── scenes/          씬 파일들
    └── compiled/        완성본
```

### 사용법

```
/novel:init
```

또는 대화형 모드로:

```
/novel:init --interactive
```

### 왜 필요한가?

- **설정 파일이 템플릿으로 제공됨** — 뭘 써야 할지 가이드가 있음
- **폴더 구조가 표준화됨** — 나중에 찾기 쉬움
- **상태 추적이 자동 시작됨** — 진행 상황을 잃어버리지 않음

---

## 2단계: 캐논(설정) 작성

### 캐논이란?

**Canon** = 이 소설 세계에서 **진실인 것들**

영화 제작으로 치면 **바이블(Bible)**입니다. 배우, 스태프 모두가 참고하는 설정집이죠.

### 꼭 써야 하는 파일

| 파일 | 내용 | 예시 |
|------|------|------|
| `premise.md` | 한 줄 로그라인, 장르, 분위기 | "제주 중학생이 걷기로 마라톤 완주하는 성장 일기" |
| `characters.md` | 주요 인물 설정 | 이름, 외모, 성격, 비밀, 성장 아크 |
| `timeline.md` | 시간 배경 | 2024년 3월 ~ 2025년 2월, 제주 |

### 선택 파일

| 파일 | 언제 쓰나요? |
|------|-------------|
| `world.md` | 판타지, SF 등 특수한 세계관이 있을 때 |
| `style_guide.md` | 특정 문체를 유지하고 싶을 때 |
| `constraints.md` | "이건 절대 안 돼" 규칙이 있을 때 |

### 잘 쓰는 팁

**구체적으로 쓰세요:**

```markdown
# 나쁜 예
성격: 밝다

# 좋은 예
성격:
- 낯선 사람 앞에서는 말수가 적지만, 친해지면 수다쟁이
- 스트레스 받으면 과자를 폭식함
- 거짓말을 못해서 표정에 다 드러남
```

**모순을 피하세요:**

```markdown
# 나쁜 예
키: 165cm (characters.md)
키: 170cm (premise.md)

# 좋은 예
키: 165cm (characters.md에만 기록)
```

---

## 3단계: 구조 설계 (`/novel:outline`)

### 무엇을 하나요?

캐논을 읽고 **전체 스토리 구조**를 생성합니다.

### 사용법

```
/novel:outline
```

### 생성되는 것들

1. **outline.md** — 전체 줄거리, 장별 요약
2. **act_structure.md** — 3막 또는 5막 구조
3. **beat_plan.md** — 씬별 비트 (무슨 일이 일어나는지)
4. **diary_plan.md** — (일기체인 경우) 날짜별 계획

### Save the Cat 비트 시트

Novel Engine은 **Save the Cat** 구조를 사용합니다:

| 비트 | 위치 | 역할 |
|------|------|------|
| Opening Image | 0-1% | 시작 상태 보여주기 |
| Theme Stated | 5% | 주제 암시 |
| Set-Up | 1-10% | 일상 세계 |
| Catalyst | 10% | 사건 발생 |
| Debate | 10-20% | 갈등, 망설임 |
| Break into Two | 20% | 결단 |
| B Story | 22% | 서브플롯 시작 |
| Fun and Games | 20-50% | 본격 모험 |
| Midpoint | 50% | 반전 또는 성공/실패 |
| Bad Guys Close In | 50-75% | 위기 고조 |
| All Is Lost | 75% | 최악의 순간 |
| Dark Night of the Soul | 75-80% | 내면의 성찰 |
| Break into Three | 80% | 깨달음 |
| Finale | 80-99% | 클라이맥스 |
| Final Image | 99-100% | 변화된 모습 |

### 왜 필요한가?

- **막연한 아이디어가 구체화됨** — 뭘 써야 할지 명확해짐
- **구조가 탄탄해짐** — 처지는 부분, 급한 부분이 보임
- **씬 단위로 쪼개짐** — 하루에 한 씬씩 쓸 수 있음

---

## 4단계: 집필 (`/novel:write`)

### 무엇을 하나요?

**비트 계획에 따라 씬을 하나씩 작성**합니다.

### 사용법

```
/novel:write
```

다음 씬이 자동으로 선택되어 작성됩니다.

### 작성 과정

1. 이전 씬 읽기 (연속성 유지)
2. 비트 계획 확인 (이 씬에서 무슨 일이 일어나야 하는지)
3. 캐논 참조 (설정 확인)
4. 산문 작성
5. 상태 업데이트

### 일기체 특화 기능

일기 형식 소설인 경우:

- **날짜/요일** 자동 계산
- **계절/날씨** 묘사 포함
- **1인칭 회고체** 톤 유지
- **감정 아크** 추적

### 왜 필요한가?

- **한 씬에 집중** — 전체를 생각하면 막막함
- **이전 씬과 연결** — 자동으로 앞 내용 참조
- **설정 일관성** — 캐논을 보면서 씀

---

## 5단계: 품질 검사 (`/novel:check`)

### 무엇을 하나요?

**7명의 전문 체커 에이전트** + **2명의 종합 에이전트**가 원고를 검사합니다.

### 7개 체커 에이전트 (병렬 실행)

| 에이전트 | 검사 내용 | 예시 문제 |
|----------|----------|----------|
| **canon-checker** | 설정 일관성 | "3장에서 눈이 갈색→파랑으로 바뀜" |
| **timeline-keeper** | 시간선 정합성 | "화요일 사건을 목요일이라고 씀" |
| **voice-coach** | 캐릭터 목소리 | "A의 말투가 갑자기 달라짐" |
| **pacing-analyzer** | 전개 속도 | "5장이 너무 급하게 진행됨" |
| **tension-monitor** | 긴장감 분석 | "중반부에 갈등이 없음" |
| **plot-coherence-checker** | 복선/스레드 | "4장 복선이 회수 안 됨" |
| **story-quality-agent** | 서사 품질 | "주인공이 수동적임" |

### 2개 종합 에이전트 (순차 실행)

| 에이전트 | 역할 |
|----------|------|
| **novel-editor** | 체커 결과 종합, 편집자 피드백 |
| **novel-quality-gate** | 심각도 분류, 씬 승인/거부 |

### 사용법

```
/novel:check
```

### 검사 결과 예시

```
## 품질 검사 리포트

### CRITICAL (즉시 수정 필요)
- ch03_s02: 캐릭터 '민수' 눈 색상 불일치
  - 예상: 갈색 (characters.md)
  - 발견: 파란 (ch03_s02.md 17줄)
  - 제안: "파란 눈"을 "갈색 눈"으로 수정

### MAJOR (수정 권장)
- ch05_s01: 전개가 급함
  - 발견: 2000단어에 주요 사건 3개
  - 제안: 씬을 2개로 분리하거나 일부 사건 다음 씬으로 이동

### MINOR (선택 수정)
- ch02_s03: 날씨 묘사 누락
  - 발견: 일기체인데 날씨 언급 없음
  - 제안: 오프닝에 날씨 한 줄 추가
```

### 왜 필요한가?

- **사람은 실수함** — 10만 자 넘으면 앞 내용 기억 못 함
- **독자보다 먼저 발견** — 출판 전에 수정
- **우선순위가 명확** — 뭘 먼저 고쳐야 하는지 알려줌

---

## 6단계: 출판 (`/novel:publish`)

### 무엇을 하나요?

완성된 원고를 **EPUB 파일**로 변환합니다.

### 사용법

```
/novel:publish
```

### 출판 과정

1. **환경 확인** — Pandoc 설치 여부
2. **씬 검증** — 승인된 씬만 포함
3. **메타데이터 확인** — 제목, 저자, 언어 등
4. **스냅샷 생성** — 출판 전 백업
5. **EPUB 생성** — Pandoc으로 변환
6. **상태 업데이트** — 출판 이력 기록

### 생성되는 파일

```
draft/compiled/
├── metadata.yaml    ← 메타데이터
├── epub.css         ← 스타일
└── my-novel.epub    ← 완성본!
```

### 왜 필요한가?

- **표준 포맷** — 모든 전자책 리더에서 읽을 수 있음
- **안전한 출판** — 스냅샷이 자동 생성됨
- **전문가 수준 품질** — CSS로 타이포그래피 최적화

---

## 일기체 소설 예시

### 프로젝트 시작

```
/novel:init --interactive
```

질문에 답하기:
- 제목: 제주에서 걷다
- 형식: **diary** (일기체)
- 기간: 2024-03-01 ~ 2025-02-28

### 캐논 작성

**canon/premise.md:**
```markdown
# 기획서

## 로그라인
만원 버스가 싫어서 걷기 시작한 제주 중학생이,
1년 만에 마라톤 풀코스를 완주하는 성장 일기

## 장르
성장, 스포츠, 일상

## 형식
diary (주 2회 일기)

## 기간
2024년 3월 1일 ~ 2025년 2월 28일
```

**canon/characters.md:**
```markdown
# 캐릭터

## 주인공: 김하늘 (14세)

### 외모
- 키 158cm, 마른 체형
- 단발머리, 갈색 눈
- 항상 운동화를 신음

### 성격
- 내성적이지만 한 번 결심하면 끝까지 함
- 숫자에 민감함 (걸음 수, 거리 기록)
- 혼잣말을 많이 함

### 시작점
- 체력 최하위, 체육 시간이 제일 싫음
- 버스 멀미가 심함

### 도착점
- 풀코스 마라톤 완주
- "못 하는 게 아니라 안 해본 거였다" 깨달음
```

### 아웃라인 생성

```
/novel:outline
```

결과:
```markdown
## 구조 (3막)

### 1막: 시작 (3월-5월)
- 버스 대신 걷기 시작
- 처음엔 1km도 힘들었음
- 점점 거리가 늘어남

### 2막: 도전 (6월-11월)
- 10km 달성
- 마라톤 대회 존재를 알게 됨
- 훈련 시작, 좌절, 다시 시작

### 3막: 완성 (12월-2월)
- 첫 대회 도전
- 풀코스 완주
- 일 년 전의 나에게 편지
```

### 집필

```
/novel:write
```

결과 (draft/scenes/ch01_s01.md):
```markdown
# 2024년 3월 4일 월요일

맑음. 바람 좀 붐.

오늘 버스에서 또 토했다. 정확히 말하면 토할 것 같아서
내렸다. 종점에서 세 정거장 전에.

남은 거리를 걸었다. 처음엔 짜증났는데, 이상하게
걷다 보니까 속이 가라앉았다.

집에 오니까 7,284보. 엄마 핸드폰으로 확인했다.
내 인생 최고 기록인 것 같다.

내일도 그냥 걸어볼까?
```

### 품질 검사

```
/novel:check
```

### 출판

```
/novel:publish
```

---

## 자주 묻는 질문

### Q: 꼭 순서대로 해야 하나요?

**A:** 네, 권장합니다.

- `init` → `outline` → `write` → `check` → `publish`
- 단, `write`와 `check`는 번갈아 가며 반복할 수 있습니다.

### Q: 설정을 중간에 바꿔도 되나요?

**A:** 됩니다. 캐논 파일을 수정하면 됩니다.

단, 이미 쓴 씬과 충돌이 생길 수 있으니 `/novel:check`를 돌려서 확인하세요.

### Q: AI가 대신 써주는 건가요?

**A:** 아니요. **당신이 작가**입니다.

AI는:
- 구조를 제안하고
- 일관성을 체크하고
- 설정을 기억해줍니다.

실제 창작은 당신이 합니다.

### Q: 어느 정도 길이의 소설에 적합한가요?

**A:** 1만 자 ~ 30만 자.

- 1만 자 미만: 굳이 시스템 없이 써도 됨
- 30만 자 이상: 이 시스템이 **반드시** 필요함

### Q: 일기체가 아니어도 되나요?

**A:** 네, 지원합니다:
- `chapter` — 일반 장편
- `diary` — 일기체
- `serial` — 연재물 (회차 기반)
- `short` — 단편

---

## 핵심 정리

| 문제 | 해결책 |
|------|--------|
| 설정을 까먹음 | 캐논 파일에 기록 |
| 시간선이 꼬임 | timeline-keeper가 체크 |
| 복선을 놓침 | plot-coherence-checker가 추적 |
| 캐릭터가 이상해짐 | voice-coach가 체크 |
| 서사가 약함 | story-quality-agent가 분석 |
| 되돌리고 싶음 | 버전 관리로 롤백 |

**기억하세요:**

> 좋은 소설은 영감으로 시작하지만, **시스템**으로 완성됩니다.

---

## 다음 단계

### 빠른 시작 (권장)
1. `/novel:start` + 스토리 아이디어 한 문단
2. 하루에 한 씬씩 `/novel:write`
3. 매주 `/novel:check` 로 점검
4. 완성되면 `/novel:publish`

### 단계별 시작
1. `/novel:init` 으로 프로젝트 생성
2. `canon/` 폴더의 파일들을 채우기
3. `/novel:outline` 으로 구조 생성
4. 하루에 한 씬씩 `/novel:write`
5. 매주 `/novel:check` 로 점검
6. 완성되면 `/novel:publish`

**시작이 반입니다. 지금 `/novel:start` 를 입력하고 이야기 아이디어를 설명하세요.**

---

*Novel Engine v1.0 Tutorial*
*Last updated: 2026-02-25*
